# .github/workflows/deploy_workflow.yaml
name: Despliegue de la aplicación

on:
  workflow_call:
    inputs:
      image_name:
        required: true
        type: string

jobs:
  build:
    runs-on: ubuntu-latest
    environment: production
    steps:
     

      - name: Pull image
        run: |
          docker pull ${{ vars.DOCKERHUB_USER }}/${{ inputs.image_name }}:0.0.0

      - name: Run container
        run: |
          docker run -d -p 8080:8080 --name github-weekly ${{ vars.DOCKERHUB_USER }}/${{ inputs.image_name }}:0.0.0

      - name: Show containers
        run: |
          docker ps 

      - name: Verificación del funcionamiento de la app
        run: |
          cur
